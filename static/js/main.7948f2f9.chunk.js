(this["webpackJsonpsudoku-app"]=this["webpackJsonpsudoku-app"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r,o,a,i,c=n(3),s=n.n(c),l=n(11),d=n.n(l),u=(n(67),n(17)),b=n(50),f=n.n(b);!function(e){e[e.small=4]="small",e[e.normal=9]="normal"}(r||(r={})),function(e){e[e.LOADING=0]="LOADING",e[e.SOLO=1]="SOLO",e[e.CHALLENGE=2]="CHALLENGE",e[e.NONE=3]="NONE"}(o||(o={})),function(e){e[e.EMPTY=0]="EMPTY",e[e.RUNNING=1]="RUNNING",e[e.STOPPED=2]="STOPPED",e[e.NEW=3]="NEW",e[e.FETCHING=4]="FETCHING",e[e.FINISHED=5]="FINISHED"}(a||(a={})),function(e){e[e.SOLO=0]="SOLO",e[e.CHALLENGE=1]="CHALLENGE"}(i||(i={}));var m=n(15),j=n(29),x=n.n(j),h=n(51),v=n(52),O=n.n(v),g=(n(80),n(18));function p(e){return e.map((function(e){return e.map((function(e){return{value:e,isCorrect:0!==e,isDeletable:0===e}}))}))}function N(e){var t,n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){var r,o=t.value,a=Object(g.a)(o);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(!i.isCorrect||0===i.value)return!1}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}return!0}var y=n(13),w=n.n(y),E=w.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URI}),S=r.normal,C=function(e){var t=new Array(e).fill(0).map((function(){return new Array(e).fill(0)}));return{solvedGrid:t,grid:p(t)}}(S),k=C.solvedGrid,T=C.grid,I=function(e,t){return{solvedGrid:k,grid:T,gameId:void 0,records:[],setGrid:function(t){var n=t.grid,r=t.solvedGrid,o=t.id,i=t.size,c=t.records;e((function(){return{solvedGrid:r,grid:p(n),gameId:o,records:c,state:a.NEW,size:i}}))},getCell:function(e,n){return t().grid[e][n]},setCell:function(n,r,o){var i=t().grid,c=t().size,s=i.map((function(e){return e.map((function(e){return e.value}))}));i[n][r].isCorrect=function(e,t,n,r,o){var a=Math.sqrt(o),i=Array.from({length:a},(function(e,t){return{from:t*a,to:(t+1)*a}}));if(!e[t].includes(r)){var c=e.map((function(e){return e[n]}));if(!c.includes(r)){var s,l=[],d=Object(g.a)(i);try{for(d.s();!(s=d.n()).done;){var u=s.value;if(t>=u.from&&t<u.to){var b,f=Object(g.a)(i);try{for(f.s();!(b=f.n()).done;){var m=b.value;if(n>=m.from&&n<m.to)for(var j=u.from;j<u.to;j++)for(var x=m.from;x<m.to;x++)l.push(e[j][x])}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){d.e(h)}finally{d.f()}if(!l.includes(r))return!0}}return!1}(s,n,r,o,c),i[n][r].value=o;var l=N(i);e(l?{state:a.FINISHED,grid:i}:{grid:i})}}},D=O()((function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},function(e,t){return{size:S,setSize:function(t){e({size:t})}}}(e)),I(e,t)),function(e,t){return{mode:i.SOLO,state:a.EMPTY,modalState:o.NONE,setModalState:function(t){e({modalState:t})},time:0,hints:0,setState:function(){var n=Object(h.a)(x.a.mark((function n(r,o){var i,c,s,l,d,u,b,f,m;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r!==a.NEW){n.next=21;break}if(!o){n.next=9;break}return n.next=4,E.get("/games/".concat(o));case 4:i=n.sent,c=i.data.records,e({state:r,records:c,hints:0}),n.next=19;break;case 9:return n.next=11,E.get("/games/random/".concat(t().size));case 11:s=n.sent,l=s.data,d=l.grid,u=l.id,b=l.solvedGrid,f=l.size,m=l.records,e({state:r,grid:p(d),solvedGrid:b,size:f,gameId:u,records:m,hints:0});case 19:n.next=22;break;case 21:e({state:r});case 22:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),hint:function(){var n=t(),r=n.solvedGrid,o=n.grid;e:for(var i=0;i<o.length;i++)for(var c=o[i],s=0;s<c.length;s++){var l=c[s];if(0===l.value){l.value=r[i][s],l.isCorrect=!0;break e}}var d=N(o);e(d?{state:a.FINISHED,grid:o,hints:t().hints+1}:{grid:o,hints:t().hints+1})},setTime:function(t){e({time:t})},addRecord:function(n){e({records:t().records.concat(n)})}}}(e,t))}));var L=D,_=n(14),A=n(0);var R=function(e){var t=e.displayName,n=e.onClick,r=(e.isActive,e.disabled);return Object(A.jsx)("input",{type:"button",className:"cursor-pointer border-none p-4 m-2 text-center inline-block rounded-lg font-medium",value:t,onClick:function(){return n()},disabled:r})},P=function(e){return new Date(1e3*e).toISOString().substr(14,5)};var G=function(){var e=L(),t=e.setState,n=e.time,r=e.gameId,o=e.hints,i=Object(c.useState)(""),s=Object(_.a)(i,2),l=s[0],d=s[1],b=w.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URI}),f=Object(u.useMutation)((function(e){return b.post("/records",e)}),{onSuccess:function(){t(a.NEW,r)}});return Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{children:["Your total score is: ",P(n+60*o)]}),Object(A.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:l,placeholder:"Insert your username...."}),Object(A.jsx)(R,{displayName:"Don't upload",onClick:function(){return t(a.EMPTY)}}),Object(A.jsx)(R,{displayName:"Upload",onClick:function(){var e={gameId:r||"",score:n+60*o,userName:l};f.mutate(e)},disabled:0===(null===l||void 0===l?void 0:l.length)})]})},F=n(106),H=function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(c.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))},M=function(e){var t=e.size,n=e.onClick;return Object(A.jsx)("div",{className:"grid grid-cols-".concat(Math.sqrt(t)," rounded-lg "),children:Array.from(Array(t).keys()).map((function(e){return Object(A.jsx)("div",{className:"col-span-1 p-2 text-white border-2 rounded-lg bg-green-400 ",onClick:function(){return n(e+1)},children:e+1},e)}))})},z=function(e){return 0===e?"":e};var U=function(e){var t=e.row,n=e.column,r=e.value,o=e.isDeletable,a=e.size,i=e.hasBottomBorder,l=e.hasRightBorder,d=L((function(e){return e.setCell})),u=s.a.useState(!1),b=Object(_.a)(u,2),f=b[0],m=b[1],j=Object(c.createRef)(),x=Object(c.createRef)(),h=function(){m(!1)};return H(j,(function(){return h()})),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"border-gray-800 ".concat(f?"active-shadow":""," ").concat(i&&l?"border-b-2 border-r-2 border-l border-t":i?"border-b-2 border-l border-t border-r":l?"border-r-2 border-l border-t border-b":"border","\n      "),onClick:function(){o&&null!==j.current&&null!==x.current&&(Object(F.a)(j.current,x.current,{placement:"top"}),m(!0))},ref:j,children:Object(A.jsx)("span",{className:"".concat(o?null:"font-bold ")+" h-8 w-8 lg:w-16 lg:h-16 md:w-12 md:h-12 flex items-center justify-center",children:z(r)})}),Object(A.jsx)("div",{className:(f?"":"hidden ")+"border-0 mb-3 block z-50 font-normal text-sm max-w-xs text-left font-semibold rounded-lg",ref:x,children:Object(A.jsx)(M,{size:a,onClick:function(e){return function(e){d(t,n,e),h()}(e)}})})]})};function W(e,t){return(e+1)%Math.sqrt(t)===0}var B=function(e){for(var t=e.index,n=e.row,r=[],o=0;o<n.length;o++){var a=Object(A.jsx)(U,{hasBottomBorder:W(t,n.length),hasRightBorder:W(o,n.length),row:t,column:o,size:n.length,value:n[o].value,isDeletable:n[o].isDeletable},o);r.push(a)}return Object(A.jsx)("div",{className:"grid grid-cols-".concat(n.length),children:r.map((function(e){return e}))})},K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",justifyContent:"space-around",flexWrap:"wrap"}};var Y=function(){for(var e=L(),t=e.grid,n=e.state,r=e.setState,o=[],i=0;i<t.length;i++)o.push(Object(A.jsx)(B,{index:i,row:t[i]},i));return Object(A.jsxs)("div",{className:"flex m-auto h-full items-center",children:[Object(A.jsx)("div",{className:"grid grid-rows-".concat(t.length," border-2 border-gray-800"),children:o.map((function(e){return e}))}),Object(A.jsx)(f.a,{isOpen:n===a.FINISHED,onAfterClose:function(){return r(a.EMPTY)},style:K,children:Object(A.jsx)(G,{})})]})};var q=function(e){var t=e.value,n=e.onClick;return Object(A.jsx)("button",{className:"text-white bg-transparent border border-solid border-white hover:bg-white hover:text-green-500 active:bg-white text-xs uppercase font-bold px-3 py-2  rounded-full outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return n()},children:t})},Q=function(e){var t=e.children;return Object(A.jsx)("li",{className:"nav-item mr-4",children:t})};var V=function(){var e=L(),t=e.gameId,n=e.setModalState;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("nav",{className:"relative flex items-center justify-between px-2 py-3 bg-green-500 mb-3",children:Object(A.jsxs)("div",{className:"w-full px-4 flex items-center justify-between",children:[Object(A.jsx)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:Object(A.jsx)("p",{className:"text-sm font-bold leading-relaxed inline-block whitespace-nowrap uppercase text-white",children:t||"Sudoku"})}),Object(A.jsx)("div",{className:"flex flex-grow items-center",children:Object(A.jsxs)("ul",{className:"flex flex-row list-none ml-auto",children:[Object(A.jsx)(Q,{children:Object(A.jsx)(q,{value:"Challenge",onClick:function(){return n(o.CHALLENGE)}})}),Object(A.jsx)(Q,{children:Object(A.jsx)(q,{value:"Solo",onClick:function(){return n(o.SOLO)}})})]})})]})})})},J=function(e){var t=e.title,n=e.showModal,r=(e.closeModal,e.children);return Object(A.jsx)(A.Fragment,{children:n?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(A.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(A.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(A.jsx)("div",{className:"flex border-b border-solid border-blueGray-200 rounded-t",children:Object(A.jsxs)("p",{className:"m-auto text-green-500 text-3xl font-semibold text-center",children:[t,Object(A.jsxs)("span",{className:"text-black text-3xl font-semibold text-center",children:[" ","Mode"]})]})}),r]})})}),Object(A.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})},X=function(){var e=L(),t=e.modalState,n=e.setModalState,r=function(){return n(o.NONE)};return Object(A.jsxs)(J,{title:"Challenge",showModal:t===o.CHALLENGE,closeModal:function(){return r()},children:[Object(A.jsx)("div",{className:"relative p-6 flex-auto",children:Object(A.jsx)("p",{className:"my-4 text-blueGray-500 text-lg leading-relaxed",children:"I always felt like I could do anything. That\u2019s the main thing people are controlled by! Thoughts- their perception of themselves! They're slowed down by their perception of themselves. If you're taught you can\u2019t do anything, you won\u2019t do anything. I was taught I could do everything."})}),Object(A.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(A.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return r()},children:"Close"}),Object(A.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return r()},children:"Save Changes"})]})]})},Z=function(){var e=L(),t=e.modalState,n=e.setGrid,a=e.setModalState,i=e.setSize,c=e.size,s=function(){return a(o.NONE)},l=w.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URI});return Object(A.jsxs)(J,{title:"Solo",showModal:t===o.SOLO,closeModal:function(){return s()},children:[Object(A.jsxs)("div",{className:"h-40 w-96 p-4 flex justify-center items-center",children:[Object(A.jsx)("button",{className:"".concat(c===r.small?"bg-green-500 ":"bg-transparent  hover:bg-white hover:text-green-500 active:bg-white ","border border-solid border-green-500 text-xs uppercase font-bold px-3 py-2 rounded-full outline-none focus:outline-none mr-4 mb-1 ease-linear transition-all duration-150"),type:"button",onClick:function(){return i(r.small)},children:"Small"}),Object(A.jsx)("button",{className:"".concat(c===r.normal?"bg-green-500 ":"bg-transparent  hover:bg-white hover:text-green-500 active:bg-white ","border border-solid border-green-500 text-xs uppercase font-bold px-3 py-2 rounded-full outline-none focus:outline-none mb-1 ease-linear transition-all duration-150"),type:"button",onClick:function(){return i(r.normal)},children:"Normal"})]}),Object(A.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(A.jsx)("button",{className:"text-green-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return s()},children:"Close"}),Object(A.jsx)("button",{className:"bg-green-500 text-white font-bold uppercase text-sm px-6 py-3 rounded-full shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ml-auto ease-linear transition-all duration-150",type:"button",onClick:function(){return a(o.LOADING),void l.get("/games/random/".concat(c)).then((function(e){var t=e.data;n(t),a(o.NONE)}))},children:"Start"})]})]})};var $=function(){var e=L((function(e){return e.records}));return Object(A.jsx)("div",{children:e.length?e.map((function(e,t){return Object(A.jsxs)("div",{className:"flex ml-3",children:[Object(A.jsxs)("h4",{className:"mr-4",children:[t+1,"."]}),Object(A.jsx)("h3",{className:"mr-2",children:P(e.score)}),Object(A.jsx)("p",{children:e.userName})]},t)})):Object(A.jsx)("div",{className:"rlex ml-3",children:Object(A.jsx)("p",{children:Object(A.jsx)("i",{children:"Nobody finished this game yet "})})})})},ee=function(){var e=s.a.useState(1),t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"flex flex-wrap m-x-auto",children:Object(A.jsxs)("div",{className:"w-full",children:[Object(A.jsxs)("ul",{className:"flex mb-0 list-none flex-wrap pb-4 flex-row",role:"tablist",children:[Object(A.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto text-center",children:Object(A.jsx)("a",{className:"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal "+(1===n?"text-white bg-green-600":"text-green-600 bg-white"),onClick:function(e){e.preventDefault(),r(1)},"data-toggle":"tab",href:"#link1",role:"tablist",children:"Leaderboard"})}),Object(A.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto text-center",children:Object(A.jsx)("a",{className:"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal "+(3===n?"text-white bg-green-600":"text-green-600 bg-white"),onClick:function(e){e.preventDefault(),r(3)},"data-toggle":"tab",href:"#link3",role:"tablist",children:"Options"})})]}),Object(A.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:Object(A.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(A.jsxs)("div",{className:"tab-content tab-space",children:[Object(A.jsx)("div",{className:1===n?"block":"hidden",id:"link1",children:Object(A.jsx)($,{})}),Object(A.jsx)("div",{className:2===n?"block":"hidden",id:"link2",children:Object(A.jsxs)("p",{children:["Completely synergize resource taxing relationships via premier niche markets. Professionally cultivate one-to-one customer service with robust ideas.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Dynamically innovate resource-leveling customer service for state of the art customer service."]})}),Object(A.jsx)("div",{className:3===n?"block":"hidden",id:"link3",children:Object(A.jsxs)("p",{children:["Efficiently unleash cross-media information without cross-media value. Quickly maximize timely deliverables for real-time schemas.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{})," Dramatically maintain clicks-and-mortar solutions without functional solutions."]})})]})})})]})})})};var te=function(){var e=new u.QueryClient;return Object(A.jsxs)(u.QueryClientProvider,{client:e,children:[Object(A.jsx)(V,{}),Object(A.jsxs)("div",{className:"grid xs:grid-cols-1 grid-cols-2 gap-2",children:[Object(A.jsx)(Y,{}),Object(A.jsx)(ee,{})]}),Object(A.jsx)(X,{}),Object(A.jsx)(Z,{})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),a(e),i(e)}))};d.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(te,{})}),document.getElementById("root")),ne()},67:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.7948f2f9.chunk.js.map